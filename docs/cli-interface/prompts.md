# Wilk Prompt Management System

## Overview

Wilk's prompt management system allows you to create, share, and reuse custom prompts with sophisticated variable support. This enables powerful templating and dynamic prompt generation for consistent, repeatable agent interactions.

## Variable System

### Basic Variables

Use double braces to create variables in your prompts:

```bash
/prompt add code-review "Please review {{filename}} focusing on {{review_type}} issues"
```

When calling the prompt:

```bash
%code-review --filename auth.js --review_type security
```

### Special Variables

Wilk provides several built-in special variables:

- `{{current_date}}` - Today's date and day of week (e.g., "Monday, January 15, 2024")
- `{{current_datetime}}` - Local date and time (e.g., "2024-01-15 14:30:22")
- `{{utc_iso_datetime}}` - UTC ISO datetime (e.g., "2024-01-15T19:30:22Z")
- `{{current_user}}` - Your account name (e.g., "john.doe")

Example with special variables:

```bash
/prompt add daily-standup "Generate a daily standup report for {{current_user}} on {{current_date}}. Include progress on {{project}} and blockers."
```

### Dropdown Variables

Create custom dropdown menus for your prompts using the pipe `|` separator:

```bash
/prompt add test-generator "Generate {{test_type:unit|integration|e2e}} tests for {{language:javascript|typescript|python}} using {{framework:jest|mocha|pytest|cypress}}"
```

When calling this prompt, Wilk will present dropdown menus for each variable.

## Prompt Commands

### Creating Prompts

```bash
# Basic prompt creation
/prompt add <prompt-name> <content>

# Example with variables
/prompt add bug-report "Create a bug report for {{issue_type:critical|high|medium|low}} issue in {{component}} affecting {{user_type:all users|premium users|admin users}}"
```

### Managing Prompts

```bash
# List all prompts
/prompt list

# Edit existing prompt
/prompt edit <prompt-name>

# Remove prompt
/prompt remove <prompt-name>

# View prompt details
/prompt show <prompt-name>
```

### Using Prompts

```bash
# Basic usage with % prefix
%<prompt-name>

# With arguments
%<prompt-name> --arg1 value1 --arg2 value2

# Positional arguments
%<prompt-name> value1 value2 value3
```

## Advanced Features

### Conditional Variables

Create conditional logic in your prompts:

```bash
/prompt add deployment "Deploy {{environment:staging|production}} {{#if production}}with full validation{{/if}} for {{service}} using {{strategy:blue-green|rolling|canary}}"
```

### Nested Variables

Variables can reference other variables:

```bash
/prompt add project-setup "Initialize {{project_type:web|mobile|api}} project named {{project_name}} using {{language}} and {{framework:{{language_frameworks}}}}"
```

### Default Values

Specify default values for variables:

```bash
/prompt add code-analysis "Analyze {{file_path}} for {{analysis_type:quality|security|performance:quality}} issues using {{tool:eslint|sonarqube|custom:eslint}}"
```

The syntax `:default_value` sets a default that will be used if no value is provided.

## Examples

### Development Workflows

```bash
# Code review prompt with variables
/prompt add comprehensive-review "
Perform a comprehensive code review of {{file_path}} focusing on:
- {{review_type:security|performance|maintainability|all}} aspects
- {{language:javascript|typescript|python|java}} best practices
- Code quality score: target {{quality_score:8|9|10:9}}/10
- Generated on {{current_datetime}} by {{current_user}}
"

# Usage
%comprehensive-review --file_path ./src/auth.js --review_type security --language javascript
```

### Project Management

```bash
# Sprint planning prompt
/prompt add sprint-planning "
Create sprint plan for {{sprint_name}} ({{current_date}}):
- Team: {{team_size:3|5|8|10}} developers
- Duration: {{duration:1 week|2 weeks|3 weeks:2 weeks}}
- Priority: {{priority:high|medium|low}}
- Focus: {{focus_area:new features|bug fixes|technical debt|performance}}
"

# Usage with dropdown selections
%sprint-planning --sprint_name "Sprint 24" --team_size 5 --priority high
```

### Documentation

```bash
# API documentation prompt
/prompt add api-docs "
Generate {{doc_type:OpenAPI|README|integration guide}} documentation for {{service_name}} API:
- Version: {{version:v1|v2|v3:v1}}
- Environment: {{environment:development|staging|production}}
- Authentication: {{auth_type:JWT|OAuth|API Key|None:JWT}}
- Generated by {{current_user}} on {{current_date}}
"

# Usage
%api-docs --service_name "Payment Service" --doc_type "OpenAPI" --version v2
```

## Community Prompts

### Sharing Prompts

```bash
# Upload to community
/prompt upload <prompt-name> --description "Brief description" --category "development"

# Download community prompts
/prompt download community/secure-code-review

# Search community prompts
/prompt search "testing" --category development
```

### Prompt Templates

Common prompt templates available in the community:

- `community/code-review-security` - Security-focused code review
- `community/bug-report-template` - Standardized bug reporting
- `community/api-documentation` - API documentation generation
- `community/test-plan-generator` - Test plan creation
- `community/performance-analysis` - Performance optimization analysis

## Best Practices

### Variable Naming

- Use descriptive variable names: `{{file_path}}` not `{{f}}`
- Use snake_case for consistency: `{{review_type}}` not `{{reviewType}}`
- Group related variables: `{{test_framework}}`, `{{test_type}}`, `{{test_coverage}}`

### Dropdown Design

- Limit dropdown options to 5-6 choices for usability
- Order options from most common to least common
- Use clear, descriptive option names
- Provide sensible defaults

### Prompt Structure

```bash
# Good prompt structure
/prompt add task-template "
## Task: {{task_name}}
**Assigned to:** {{current_user}}
**Date:** {{current_date}}
**Priority:** {{priority:high|medium|low:medium}}

### Description
{{task_description}}

### Requirements
{{requirements}}

### Acceptance Criteria
{{acceptance_criteria}}
"
```

### Error Handling

Wilk automatically handles common variable issues:

- Missing variables prompt user for input
- Invalid dropdown selections show available options
- Special variables are automatically populated
- Default values are used when appropriate

## Integration with Agents

Prompts work seamlessly with agent execution:

```bash
# Use prompt with specific agent
@code-reviewer %security-audit --file ./auth.js --severity critical

# Multi-agent with prompt
@analyzer @documenter %api-review --service user-service --version v2
```

This creates a powerful combination of reusable prompts and specialized agents for consistent, high-quality AI interactions.

